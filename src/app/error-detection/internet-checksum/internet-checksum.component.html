<app-hex-data (hexData)="data.set($event)"></app-hex-data>

<div id="hex-data-view">
	<app-decimal-data type="text" placeholder="Partial" (decimalDataChange)="setPartial($event)"></app-decimal-data>
</div>

<div id="partial-data">
  {{ partialData().toUpperCase() }}
</div>

<div id="checksum-container">
  <div id="sender-title" #anime>Sender</div>
  <div id="sender">
    @for (item of senderProcess(); track $index) {
    <div class="process" #anime>
      <div class="process-text">
        {{ item.text }}
      </div>
      <div class="process-sum-container">
        <div class="process-sum">
          <div>
            @for (char of item.number1.toUpperCase(); track $index) {
            <span>
              {{ char }}
            </span>
            }
          </div>
          <div>
            @for (char of item.number2.toUpperCase(); track $index) {
            @if (item.number2.length === 1) {
            <span #anime class="add-carry">
              {{ char }}
            </span>
            } @else {
            <span>
              {{ char }}
            </span>
            }

            }
          </div>

          <span class="sum-line"> </span>

          <div>
            @for (char of item.result.toUpperCase(); track $index) {
            @if (item.result.length > partial() && $index === 0) {
            <span #anime class="carry" style="background-color: #FF8F42;">
              {{ char }}
            </span>
            } @else {
            <span>
              {{ char }}
            </span>
            }
            }
          </div>
        </div>
      </div>

    </div>
    }
  </div>




  <div id="receiver-title" #anime>Receiver</div>
  <div id="receiver">
    @for (item of receiverProcess(); track $index) {
    <div class="process" #anime>
      <div class="process-text">
        {{ item.text }}
      </div>
      <div class="process-sum-container">
        <div class="process-sum">
          <div>
            @for (char of item.number1.toUpperCase(); track $index) {
            <span>
              {{ char }}
            </span>
            }
          </div>
          <div>
            @for (char of item.number2.toUpperCase(); track $index) {
            @if (item.number2.length === 1) {
            <span #anime class="add-carry">
              {{ char }}
            </span>
            } @else {
            <span>
              {{ char }}
            </span>
            }

            }
          </div>

          <span class="sum-line"> </span>

          <div>
            @for (char of item.result.toUpperCase(); track $index) {
            @if (item.result.length > partial() && $index === 0) {
            <span #anime class="carry" style="background-color: #FF8F42;">
              {{ char }}
            </span>
            } @else {
            <span>
              {{ char }}
            </span>
            }
            }
          </div>
        </div>
      </div>

    </div>
    }
  </div>



</div>

<div class="controls">
  <button (click)="previousProcess()">
    Previous
  </button>
  <button (click)="nextProcess()">
    Next
  </button>
</div>
